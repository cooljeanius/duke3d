<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>The Build Engine: engine.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">The Build Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">engine.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main engine include file.  
<a href="#details">More...</a></p>

<p><a href="engine_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aebe0a2c1d58319bd77cd566351196d61"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aebe0a2c1d58319bd77cd566351196d61"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SUPERBUILD</b>&#160;&#160;&#160;/* don't touch this. */</td></tr>
<tr class="separator:aebe0a2c1d58319bd77cd566351196d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a57d0f593c2230b56e8e9a9675f03fc9d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57d0f593c2230b56e8e9a9675f03fc9d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>faketimerhandler</b> (void)</td></tr>
<tr class="separator:a57d0f593c2230b56e8e9a9675f03fc9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662374b4d72a49e60b928be0c41afc4f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a662374b4d72a49e60b928be0c41afc4f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>initmouse</b> (void)</td></tr>
<tr class="separator:a662374b4d72a49e60b928be0c41afc4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb2ccb6e1e062c239a47b6d8721bc7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a6eb2ccb6e1e062c239a47b6d8721bc7a">setgamemode</a> (char davidoption, long daxdim, long daydim)</td></tr>
<tr class="memdesc:a6eb2ccb6e1e062c239a47b6d8721bc7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the video mode.  <a href="#a6eb2ccb6e1e062c239a47b6d8721bc7a">More...</a><br/></td></tr>
<tr class="separator:a6eb2ccb6e1e062c239a47b6d8721bc7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882f170f9f4f090955e4d0ecdf3cf588"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a882f170f9f4f090955e4d0ecdf3cf588">getceilzofslope</a> (short sectnum, long dax, long day)</td></tr>
<tr class="memdesc:a882f170f9f4f090955e4d0ecdf3cf588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ceiling z value for a point in a sector.  <a href="#a882f170f9f4f090955e4d0ecdf3cf588">More...</a><br/></td></tr>
<tr class="separator:a882f170f9f4f090955e4d0ecdf3cf588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455e6301e09bae328d82ffc8f077f3b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a455e6301e09bae328d82ffc8f077f3b7">getflorzofslope</a> (short sectnum, long dax, long day)</td></tr>
<tr class="memdesc:a455e6301e09bae328d82ffc8f077f3b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the floor z value for a point in a sector.  <a href="#a455e6301e09bae328d82ffc8f077f3b7">More...</a><br/></td></tr>
<tr class="separator:a455e6301e09bae328d82ffc8f077f3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a712cb52e48cb161defe931ca873c2a9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a712cb52e48cb161defe931ca873c2a9d">getzsofslope</a> (short sectnum, long dax, long day, long *ceilz, long *florz)</td></tr>
<tr class="memdesc:a712cb52e48cb161defe931ca873c2a9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the floor and ceiling z values for a point.  <a href="#a712cb52e48cb161defe931ca873c2a9d">More...</a><br/></td></tr>
<tr class="separator:a712cb52e48cb161defe931ca873c2a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb76c0d265f3cff77957d57c5a17a52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a4cb76c0d265f3cff77957d57c5a17a52">setaspect</a> (long daxrange, long daaspect)</td></tr>
<tr class="memdesc:a4cb76c0d265f3cff77957d57c5a17a52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set aspect ratio and viewing range angle.  <a href="#a4cb76c0d265f3cff77957d57c5a17a52">More...</a><br/></td></tr>
<tr class="separator:a4cb76c0d265f3cff77957d57c5a17a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb692da127c5b7b796a5f7429ea5c531"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#aeb692da127c5b7b796a5f7429ea5c531">insertsprite</a> (short sectnum, short statnum)</td></tr>
<tr class="memdesc:aeb692da127c5b7b796a5f7429ea5c531"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a sprite into a sector.  <a href="#aeb692da127c5b7b796a5f7429ea5c531">More...</a><br/></td></tr>
<tr class="separator:aeb692da127c5b7b796a5f7429ea5c531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b80da4ff06d9f10b6cb9df33f585de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ab4b80da4ff06d9f10b6cb9df33f585de">updatesector</a> (long x, long y, short *sectnum)</td></tr>
<tr class="memdesc:ab4b80da4ff06d9f10b6cb9df33f585de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a sector pointer, given x and y values.  <a href="#ab4b80da4ff06d9f10b6cb9df33f585de">More...</a><br/></td></tr>
<tr class="separator:ab4b80da4ff06d9f10b6cb9df33f585de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627b4fca81293cb2ef80402b47269413"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a627b4fca81293cb2ef80402b47269413">lastwall</a> (short point)</td></tr>
<tr class="memdesc:a627b4fca81293cb2ef80402b47269413"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the wall to the left of another wall.  <a href="#a627b4fca81293cb2ef80402b47269413">More...</a><br/></td></tr>
<tr class="separator:a627b4fca81293cb2ef80402b47269413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a774492fd0fa1b8d8dd1e0fa6c897c561"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a774492fd0fa1b8d8dd1e0fa6c897c561">initspritelists</a> (void)</td></tr>
<tr class="memdesc:a774492fd0fa1b8d8dd1e0fa6c897c561"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the sprite lists.  <a href="#a774492fd0fa1b8d8dd1e0fa6c897c561">More...</a><br/></td></tr>
<tr class="separator:a774492fd0fa1b8d8dd1e0fa6c897c561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6f25f276843ee1a4af20ae6c8f7a4d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#acf6f25f276843ee1a4af20ae6c8f7a4d">deletesprite</a> (short spritenum)</td></tr>
<tr class="memdesc:acf6f25f276843ee1a4af20ae6c8f7a4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a sprite from the map.  <a href="#acf6f25f276843ee1a4af20ae6c8f7a4d">More...</a><br/></td></tr>
<tr class="separator:acf6f25f276843ee1a4af20ae6c8f7a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4440b76d109ad610d7bbc88b65713b63"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4440b76d109ad610d7bbc88b65713b63"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>insertspritesect</b> (short sectnum)</td></tr>
<tr class="separator:a4440b76d109ad610d7bbc88b65713b63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d83e6f5a81eb08f1fa67a99144cbffc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d83e6f5a81eb08f1fa67a99144cbffc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>deletespritesect</b> (short deleteme)</td></tr>
<tr class="separator:a0d83e6f5a81eb08f1fa67a99144cbffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af367e7f1ad520c327ad0bc33ced7b5b9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af367e7f1ad520c327ad0bc33ced7b5b9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>deletespritestat</b> (short deleteme)</td></tr>
<tr class="separator:af367e7f1ad520c327ad0bc33ced7b5b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04669d2fbafaee507a76326d161211fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a04669d2fbafaee507a76326d161211fc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>insertspritestat</b> (short statnum)</td></tr>
<tr class="separator:a04669d2fbafaee507a76326d161211fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99959cc6b136906ba707ab33ea17729a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99959cc6b136906ba707ab33ea17729a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>changespritesect</b> (short spritenum, short newsectnum)</td></tr>
<tr class="separator:a99959cc6b136906ba707ab33ea17729a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74daf10dae2ffb40f7be7107ab13352f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74daf10dae2ffb40f7be7107ab13352f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>changespritestat</b> (short spritenum, short newstatnum)</td></tr>
<tr class="separator:a74daf10dae2ffb40f7be7107ab13352f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a03deb098822ec5542b9fd4b9906c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a49a03deb098822ec5542b9fd4b9906c9">loadtile</a> (short tilenume)</td></tr>
<tr class="memdesc:a49a03deb098822ec5542b9fd4b9906c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a tile into memory.  <a href="#a49a03deb098822ec5542b9fd4b9906c9">More...</a><br/></td></tr>
<tr class="separator:a49a03deb098822ec5542b9fd4b9906c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae71266dff7824177c59d85b4f414fcae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae71266dff7824177c59d85b4f414fcae"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setmmxoverlay</b> (int isenabled)</td></tr>
<tr class="separator:ae71266dff7824177c59d85b4f414fcae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a706f07d676acd3b4f6c128f68aae3ec9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a706f07d676acd3b4f6c128f68aae3ec9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getmmxoverlay</b> (void)</td></tr>
<tr class="separator:a706f07d676acd3b4f6c128f68aae3ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61cc16c822b16491315e8f46a7991958"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a61cc16c822b16491315e8f46a7991958">nextpage</a> (void)</td></tr>
<tr class="memdesc:a61cc16c822b16491315e8f46a7991958"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flip to next drawing page.  <a href="#a61cc16c822b16491315e8f46a7991958">More...</a><br/></td></tr>
<tr class="separator:a61cc16c822b16491315e8f46a7991958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66678bd73cef8c99167f81a014eaaebf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a66678bd73cef8c99167f81a014eaaebf">drawrooms</a> (long daposx, long daposy, long daposz, short daang, long dahoriz, short dacursectnum)</td></tr>
<tr class="memdesc:a66678bd73cef8c99167f81a014eaaebf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the 3D screen to the current drawing page.  <a href="#a66678bd73cef8c99167f81a014eaaebf">More...</a><br/></td></tr>
<tr class="separator:a66678bd73cef8c99167f81a014eaaebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fd5aae595f6703b5b1b96f59192f8b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a67fd5aae595f6703b5b1b96f59192f8b">loadboard</a> (char *filename, long *daposx, long *daposy, long *daposz, short *daang, short *dacursectnum)</td></tr>
<tr class="memdesc:a67fd5aae595f6703b5b1b96f59192f8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a map from disk.  <a href="#a67fd5aae595f6703b5b1b96f59192f8b">More...</a><br/></td></tr>
<tr class="separator:a67fd5aae595f6703b5b1b96f59192f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa62c85ac7edf6b08e9b586f7b55ba3ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#aa62c85ac7edf6b08e9b586f7b55ba3ec">drawmasks</a> (void)</td></tr>
<tr class="memdesc:aa62c85ac7edf6b08e9b586f7b55ba3ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the sprites and maskwalls to the current drawing page.  <a href="#aa62c85ac7edf6b08e9b586f7b55ba3ec">More...</a><br/></td></tr>
<tr class="separator:aa62c85ac7edf6b08e9b586f7b55ba3ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe992ccc867011bddf65db06d3d6a1b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#afe992ccc867011bddf65db06d3d6a1b0">printext256</a> (long xpos, long ypos, short col, short backcol, char name[82], char fontsize)</td></tr>
<tr class="memdesc:afe992ccc867011bddf65db06d3d6a1b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws a text message to the screen.  <a href="#afe992ccc867011bddf65db06d3d6a1b0">More...</a><br/></td></tr>
<tr class="separator:afe992ccc867011bddf65db06d3d6a1b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae865af00b25ea38c5b5dd78ebe9d5a8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ae865af00b25ea38c5b5dd78ebe9d5a8b">printext256_noupdate</a> (long xpos, long ypos, short col, short backcol, char name[82], char fontsize)</td></tr>
<tr class="memdesc:ae865af00b25ea38c5b5dd78ebe9d5a8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws a text message to the screen without refreshing.  <a href="#ae865af00b25ea38c5b5dd78ebe9d5a8b">More...</a><br/></td></tr>
<tr class="separator:ae865af00b25ea38c5b5dd78ebe9d5a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad954c198a08c9098326b4fc8aa07c305"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ad954c198a08c9098326b4fc8aa07c305">initengine</a> (void)</td></tr>
<tr class="memdesc:ad954c198a08c9098326b4fc8aa07c305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the Build Engine.  <a href="#ad954c198a08c9098326b4fc8aa07c305">More...</a><br/></td></tr>
<tr class="separator:ad954c198a08c9098326b4fc8aa07c305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ae077d3245d2e5bd10c25361313ab6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ab4ae077d3245d2e5bd10c25361313ab6">uninitengine</a> (void)</td></tr>
<tr class="memdesc:ab4ae077d3245d2e5bd10c25361313ab6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uninitialize the Build Engine.  <a href="#ab4ae077d3245d2e5bd10c25361313ab6">More...</a><br/></td></tr>
<tr class="separator:ab4ae077d3245d2e5bd10c25361313ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad7789d797049e17ec0eb1f54a1e41b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#acad7789d797049e17ec0eb1f54a1e41b">loadpics</a> (char *filename)</td></tr>
<tr class="memdesc:acad7789d797049e17ec0eb1f54a1e41b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads an artwork file into the engine.  <a href="#acad7789d797049e17ec0eb1f54a1e41b">More...</a><br/></td></tr>
<tr class="separator:acad7789d797049e17ec0eb1f54a1e41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a299155d6e6b08616c20af110839d042b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a299155d6e6b08616c20af110839d042b">saveboard</a> (char *filename, long *daposx, long *daposy, long *daposz, short *daang, short *dacursectnum)</td></tr>
<tr class="memdesc:a299155d6e6b08616c20af110839d042b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves a map to disk.  <a href="#a299155d6e6b08616c20af110839d042b">More...</a><br/></td></tr>
<tr class="separator:a299155d6e6b08616c20af110839d042b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5e1daf06029bc7eab6de9a8859aa36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a2e5e1daf06029bc7eab6de9a8859aa36">plotpixel</a> (long x, long y, char col)</td></tr>
<tr class="memdesc:a2e5e1daf06029bc7eab6de9a8859aa36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plots a pixel to the screen.  <a href="#a2e5e1daf06029bc7eab6de9a8859aa36">More...</a><br/></td></tr>
<tr class="separator:a2e5e1daf06029bc7eab6de9a8859aa36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668be37c5f3c1171824e407201271d5e"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a668be37c5f3c1171824e407201271d5e">getpixel</a> (long x, long y)</td></tr>
<tr class="memdesc:a668be37c5f3c1171824e407201271d5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the color of a pixel on screen.  <a href="#a668be37c5f3c1171824e407201271d5e">More...</a><br/></td></tr>
<tr class="separator:a668be37c5f3c1171824e407201271d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28100b24cf0eb1b9de2169b20c7b9910"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a28100b24cf0eb1b9de2169b20c7b9910">setbrightness</a> (char dabrightness, unsigned char *dapal)</td></tr>
<tr class="memdesc:a28100b24cf0eb1b9de2169b20c7b9910"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the gamma of a VGA palette.  <a href="#a28100b24cf0eb1b9de2169b20c7b9910">More...</a><br/></td></tr>
<tr class="separator:a28100b24cf0eb1b9de2169b20c7b9910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2081a75c3d83fa1afd3a9d4f5a34dd7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a2081a75c3d83fa1afd3a9d4f5a34dd7b">screencapture</a> (char *filename, char inverseit)</td></tr>
<tr class="memdesc:a2081a75c3d83fa1afd3a9d4f5a34dd7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take a screenshot.  <a href="#a2081a75c3d83fa1afd3a9d4f5a34dd7b">More...</a><br/></td></tr>
<tr class="separator:a2081a75c3d83fa1afd3a9d4f5a34dd7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb8ee8f622b3ab411f131c372271e17e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#abb8ee8f622b3ab411f131c372271e17e">getmousevalues</a> (short *mousx, short *mousy, short *bstatus)</td></tr>
<tr class="memdesc:abb8ee8f622b3ab411f131c372271e17e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current mouse location and button state.  <a href="#abb8ee8f622b3ab411f131c372271e17e">More...</a><br/></td></tr>
<tr class="separator:abb8ee8f622b3ab411f131c372271e17e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec5962b8e62df43cdfc074eadafa01e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#aec5962b8e62df43cdfc074eadafa01e6">clipmove</a> (long *x, long *y, long *z, short *sectnum, long xvect, long yvect, long walldist, long ceildist, long flordist, unsigned long cliptype)</td></tr>
<tr class="memdesc:aec5962b8e62df43cdfc074eadafa01e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move an object using collision detection.  <a href="#aec5962b8e62df43cdfc074eadafa01e6">More...</a><br/></td></tr>
<tr class="separator:aec5962b8e62df43cdfc074eadafa01e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32c92aa1ef6efa66fc40722d864caf2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a32c92aa1ef6efa66fc40722d864caf2d">getzrange</a> (long x, long y, long z, short sectnum, long *ceilz, long *ceilhit, long *florz, long *florhit, long walldist, unsigned long cliptype)</td></tr>
<tr class="memdesc:a32c92aa1ef6efa66fc40722d864caf2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the highest and lowest z coordinates your clipping box can get to.  <a href="#a32c92aa1ef6efa66fc40722d864caf2d">More...</a><br/></td></tr>
<tr class="separator:a32c92aa1ef6efa66fc40722d864caf2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e575f9719e3c30ee3d878ed43f352b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a07e575f9719e3c30ee3d878ed43f352b">getangle</a> (long xvect, long yvect)</td></tr>
<tr class="memdesc:a07e575f9719e3c30ee3d878ed43f352b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the angle of a vector.  <a href="#a07e575f9719e3c30ee3d878ed43f352b">More...</a><br/></td></tr>
<tr class="separator:a07e575f9719e3c30ee3d878ed43f352b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa295a774053b2959a67d341478576bd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#aa295a774053b2959a67d341478576bd6">alignceilslope</a> (short dasect, long x, long y, long z)</td></tr>
<tr class="memdesc:aa295a774053b2959a67d341478576bd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the slope of a sector's ceiling to pass through a point.  <a href="#aa295a774053b2959a67d341478576bd6">More...</a><br/></td></tr>
<tr class="separator:aa295a774053b2959a67d341478576bd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab20299088f9e08b4f331c6543ca24556"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ab20299088f9e08b4f331c6543ca24556">alignflorslope</a> (short dasect, long x, long y, long z)</td></tr>
<tr class="memdesc:ab20299088f9e08b4f331c6543ca24556"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the slope of a sector's floor to pass through a point.  <a href="#ab20299088f9e08b4f331c6543ca24556">More...</a><br/></td></tr>
<tr class="separator:ab20299088f9e08b4f331c6543ca24556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbddec0c52f6ce32730c69ce01723641"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#abbddec0c52f6ce32730c69ce01723641">hitscan</a> (long xs, long ys, long zs, short sectnum, long vx, long vy, long vz, short *hitsect, short *hitwall, short *hitsprite, long *hitx, long *hity, long *hitz, unsigned long cliptype)</td></tr>
<tr class="memdesc:abbddec0c52f6ce32730c69ce01723641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Project a ray and report what it hit.  <a href="#abbddec0c52f6ce32730c69ce01723641">More...</a><br/></td></tr>
<tr class="separator:abbddec0c52f6ce32730c69ce01723641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77e86dcba399c45472c7f7dbd786ebf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#af77e86dcba399c45472c7f7dbd786ebf">inside</a> (long x, long y, short sectnum)</td></tr>
<tr class="memdesc:af77e86dcba399c45472c7f7dbd786ebf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests to see if a 2d point is in a sector.  <a href="#af77e86dcba399c45472c7f7dbd786ebf">More...</a><br/></td></tr>
<tr class="separator:af77e86dcba399c45472c7f7dbd786ebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab688876e5e9d16bdc1a481d3926e2bdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ab688876e5e9d16bdc1a481d3926e2bdb">setfirstwall</a> (short sectnum, short newfirstwall)</td></tr>
<tr class="memdesc:ab688876e5e9d16bdc1a481d3926e2bdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the first wall of a sector.  <a href="#ab688876e5e9d16bdc1a481d3926e2bdb">More...</a><br/></td></tr>
<tr class="separator:ab688876e5e9d16bdc1a481d3926e2bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2509ece09b386579638af0b235fc469f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a2509ece09b386579638af0b235fc469f">rotatepoint</a> (long xpivot, long ypivot, long x, long y, short daang, long *x2, long *y2)</td></tr>
<tr class="memdesc:a2509ece09b386579638af0b235fc469f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotate / translate a point.  <a href="#a2509ece09b386579638af0b235fc469f">More...</a><br/></td></tr>
<tr class="separator:a2509ece09b386579638af0b235fc469f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85f64aadbd4edda5616d23675406b22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ae85f64aadbd4edda5616d23675406b22">drawtilescreen</a> (long pictopleft, long picbox)</td></tr>
<tr class="memdesc:ae85f64aadbd4edda5616d23675406b22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the tile screen.  <a href="#ae85f64aadbd4edda5616d23675406b22">More...</a><br/></td></tr>
<tr class="separator:ae85f64aadbd4edda5616d23675406b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1ded1bcbaa6d93f46fd977042ed4c22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#af1ded1bcbaa6d93f46fd977042ed4c22">clearview</a> (long dacol)</td></tr>
<tr class="memdesc:af1ded1bcbaa6d93f46fd977042ed4c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the current video page to a given color.  <a href="#af1ded1bcbaa6d93f46fd977042ed4c22">More...</a><br/></td></tr>
<tr class="separator:af1ded1bcbaa6d93f46fd977042ed4c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87308bc0612cd68e2cbdb5621a7e3569"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a87308bc0612cd68e2cbdb5621a7e3569">clearallviews</a> (long dacol)</td></tr>
<tr class="memdesc:a87308bc0612cd68e2cbdb5621a7e3569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all video pages to a given color.  <a href="#a87308bc0612cd68e2cbdb5621a7e3569">More...</a><br/></td></tr>
<tr class="separator:a87308bc0612cd68e2cbdb5621a7e3569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbd79bc77eb3974ef554e098538a8b6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#adbd79bc77eb3974ef554e098538a8b6b">draw2dgrid</a> (long posxe, long posye, short ange, long zoome, short gride)</td></tr>
<tr class="memdesc:adbd79bc77eb3974ef554e098538a8b6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a 2D grid.  <a href="#adbd79bc77eb3974ef554e098538a8b6b">More...</a><br/></td></tr>
<tr class="separator:adbd79bc77eb3974ef554e098538a8b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad169765941743f280a9b4e506ceddb54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ad169765941743f280a9b4e506ceddb54">draw2dscreen</a> (long posxe, long posye, short ange, long zoome, short gride)</td></tr>
<tr class="memdesc:ad169765941743f280a9b4e506ceddb54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the 2D screen.  <a href="#ad169765941743f280a9b4e506ceddb54">More...</a><br/></td></tr>
<tr class="separator:ad169765941743f280a9b4e506ceddb54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7c1c9eadcd99712a5de5a5d2e99ef9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a8e7c1c9eadcd99712a5de5a5d2e99ef9">sectorofwall</a> (short theline)</td></tr>
<tr class="memdesc:a8e7c1c9eadcd99712a5de5a5d2e99ef9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A fast routine to find the sector that owns a certain wall.  <a href="#a8e7c1c9eadcd99712a5de5a5d2e99ef9">More...</a><br/></td></tr>
<tr class="separator:a8e7c1c9eadcd99712a5de5a5d2e99ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7654c62de8d43f45b037f11ffeb81ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ab7654c62de8d43f45b037f11ffeb81ea">setsprite</a> (short spritenum, long newx, long newy, long newz)</td></tr>
<tr class="memdesc:ab7654c62de8d43f45b037f11ffeb81ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts a sprite somewhere, without checking for validity.  <a href="#ab7654c62de8d43f45b037f11ffeb81ea">More...</a><br/></td></tr>
<tr class="separator:ab7654c62de8d43f45b037f11ffeb81ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76bfc1e3136fdaa5ee3f96c6929a5576"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a76bfc1e3136fdaa5ee3f96c6929a5576">dragpoint</a> (short pointhighlight, long dax, long day)</td></tr>
<tr class="memdesc:a76bfc1e3136fdaa5ee3f96c6929a5576"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drag a wall to a new point.  <a href="#a76bfc1e3136fdaa5ee3f96c6929a5576">More...</a><br/></td></tr>
<tr class="separator:a76bfc1e3136fdaa5ee3f96c6929a5576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a743df2040a63c440c0a5ca7723af132d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a743df2040a63c440c0a5ca7723af132d">ksqrt</a> (long num)</td></tr>
<tr class="memdesc:a743df2040a63c440c0a5ca7723af132d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Integer Square Root Function.  <a href="#a743df2040a63c440c0a5ca7723af132d">More...</a><br/></td></tr>
<tr class="separator:a743df2040a63c440c0a5ca7723af132d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef4591b0bc830ea3434eab130381a8f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#aef4591b0bc830ea3434eab130381a8f8">loopnumofsector</a> (short sectnum, short wallnum)</td></tr>
<tr class="memdesc:aef4591b0bc830ea3434eab130381a8f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find number of walls in sector, up to a known wall.  <a href="#aef4591b0bc830ea3434eab130381a8f8">More...</a><br/></td></tr>
<tr class="separator:aef4591b0bc830ea3434eab130381a8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e35724dd0c691fe1f0e2e577edad430"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a0e35724dd0c691fe1f0e2e577edad430">cansee</a> (long x1, long y1, long z1, short sect1, long x2, long y2, long z2, short sect2)</td></tr>
<tr class="memdesc:a0e35724dd0c691fe1f0e2e577edad430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if two points can see each other.  <a href="#a0e35724dd0c691fe1f0e2e577edad430">More...</a><br/></td></tr>
<tr class="separator:a0e35724dd0c691fe1f0e2e577edad430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba80cfb3392dc12c7fca3009acc5108"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ba80cfb3392dc12c7fca3009acc5108"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>lintersect</b> (long x1, long y1, long z1, long x2, long y2, long z2, long x3, long y3, long x4, long y4, long *intx, long *inty, long *intz)</td></tr>
<tr class="separator:a9ba80cfb3392dc12c7fca3009acc5108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d4b7b59b0f5b8164ff09be43e75357a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d4b7b59b0f5b8164ff09be43e75357a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>rintersect</b> (long x1, long y1, long z1, long vx, long vy, long vz, long x3, long y3, long x4, long y4, long *intx, long *inty, long *intz)</td></tr>
<tr class="separator:a3d4b7b59b0f5b8164ff09be43e75357a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92756086f48e1fbe28d0ec2a8d6197f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a92756086f48e1fbe28d0ec2a8d6197f5">allocatepermanenttile</a> (short tilenume, long xsiz, long ysiz)</td></tr>
<tr class="memdesc:a92756086f48e1fbe28d0ec2a8d6197f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a tile permanently.  <a href="#a92756086f48e1fbe28d0ec2a8d6197f5">More...</a><br/></td></tr>
<tr class="separator:a92756086f48e1fbe28d0ec2a8d6197f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b6b9ded6e62834041f48f3ac7e50cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ab1b6b9ded6e62834041f48f3ac7e50cc">drawline256</a> (long x1, long y1, long x2, long y2, unsigned char col)</td></tr>
<tr class="memdesc:ab1b6b9ded6e62834041f48f3ac7e50cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a line.  <a href="#ab1b6b9ded6e62834041f48f3ac7e50cc">More...</a><br/></td></tr>
<tr class="separator:ab1b6b9ded6e62834041f48f3ac7e50cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced6c86c44fd00912e754f82721a3a7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#aced6c86c44fd00912e754f82721a3a7e">copytilepiece</a> (long tilenume1, long sx1, long sy1, long xsiz, long ysiz, long tilenume2, long sx2, long sy2)</td></tr>
<tr class="memdesc:aced6c86c44fd00912e754f82721a3a7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a piece of a tile to another tile, skipping transparent pixels.  <a href="#aced6c86c44fd00912e754f82721a3a7e">More...</a><br/></td></tr>
<tr class="separator:aced6c86c44fd00912e754f82721a3a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0a9186f78f84cd592907978b2ea79c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a7e0a9186f78f84cd592907978b2ea79c">nextsectorneighborz</a> (short sectnum, long thez, short topbottom, short direction)</td></tr>
<tr class="memdesc:a7e0a9186f78f84cd592907978b2ea79c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the next closest ceiling or floor in surrounding sectors.  <a href="#a7e0a9186f78f84cd592907978b2ea79c">More...</a><br/></td></tr>
<tr class="separator:a7e0a9186f78f84cd592907978b2ea79c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34288018de286e9930104effe5e02d2c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a34288018de286e9930104effe5e02d2c">neartag</a> (long xs, long ys, long zs, short sectnum, short ange, short *neartagsector, short *neartagwall, short *neartagsprite, long *neartaghitdist, long neartagrange, char tagsearch)</td></tr>
<tr class="memdesc:a34288018de286e9930104effe5e02d2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the closest objects with tags the player is pointing at.  <a href="#a34288018de286e9930104effe5e02d2c">More...</a><br/></td></tr>
<tr class="separator:a34288018de286e9930104effe5e02d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a329de23de31be916421ef26da38cdb68"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a329de23de31be916421ef26da38cdb68">pushmove</a> (long *x, long *y, long *z, short *sectnum, long walldist, long ceildist, long flordist, unsigned long cliptype)</td></tr>
<tr class="memdesc:a329de23de31be916421ef26da38cdb68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to keep object away from wall.  <a href="#a329de23de31be916421ef26da38cdb68">More...</a><br/></td></tr>
<tr class="separator:a329de23de31be916421ef26da38cdb68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3658a285bd76153c2663cb71bcc1bd47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a3658a285bd76153c2663cb71bcc1bd47">krand</a> (void)</td></tr>
<tr class="memdesc:a3658a285bd76153c2663cb71bcc1bd47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a random number.  <a href="#a3658a285bd76153c2663cb71bcc1bd47">More...</a><br/></td></tr>
<tr class="separator:a3658a285bd76153c2663cb71bcc1bd47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a401c9bf042d576b6bf44e044a417755b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a401c9bf042d576b6bf44e044a417755b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>flushperms</b> (void)</td></tr>
<tr class="separator:a401c9bf042d576b6bf44e044a417755b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b391d361340cd11c504aa20f7338b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#aa5b391d361340cd11c504aa20f7338b8">rotatesprite</a> (long sx, long sy, long z, short a, short picnum, signed char dashade, char dapalnum, char dastat, long cx1, long cy1, long cx2, long cy2)</td></tr>
<tr class="memdesc:aa5b391d361340cd11c504aa20f7338b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotate and draw a sprite on the screen.  <a href="#aa5b391d361340cd11c504aa20f7338b8">More...</a><br/></td></tr>
<tr class="separator:aa5b391d361340cd11c504aa20f7338b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e3e862cf45cf556bc982d0af4fcf1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a65e3e862cf45cf556bc982d0af4fcf1a">makepalookup</a> (long palnum, char *remapbuf, signed char r, signed char g, signed char b, char dastat)</td></tr>
<tr class="memdesc:a65e3e862cf45cf556bc982d0af4fcf1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a lookup table for remapping.  <a href="#a65e3e862cf45cf556bc982d0af4fcf1a">More...</a><br/></td></tr>
<tr class="separator:a65e3e862cf45cf556bc982d0af4fcf1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bc3511367cb61dcc2405c9312bb3b4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a4bc3511367cb61dcc2405c9312bb3b4f">drawmapview</a> (long dax, long day, long zoome, short ang)</td></tr>
<tr class="memdesc:a4bc3511367cb61dcc2405c9312bb3b4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the overhead textured map view.  <a href="#a4bc3511367cb61dcc2405c9312bb3b4f">More...</a><br/></td></tr>
<tr class="separator:a4bc3511367cb61dcc2405c9312bb3b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab41dd0063820e1bd32d102f33bf67a21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ab41dd0063820e1bd32d102f33bf67a21">setview</a> (long x1, long y1, long x2, long y2)</td></tr>
<tr class="memdesc:ab41dd0063820e1bd32d102f33bf67a21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the viewing window for 3D mode.  <a href="#ab41dd0063820e1bd32d102f33bf67a21">More...</a><br/></td></tr>
<tr class="separator:ab41dd0063820e1bd32d102f33bf67a21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d01feafe12785e792c22826a7215c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a08d01feafe12785e792c22826a7215c5">setviewtotile</a> (short tilenume, long xsiz, long ysiz)</td></tr>
<tr class="memdesc:a08d01feafe12785e792c22826a7215c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows a tile on screen, saving the previous view.  <a href="#a08d01feafe12785e792c22826a7215c5">More...</a><br/></td></tr>
<tr class="separator:a08d01feafe12785e792c22826a7215c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b442fa69e55bc30f792543dc7ca6093"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#a2b442fa69e55bc30f792543dc7ca6093">setviewback</a> (void)</td></tr>
<tr class="memdesc:a2b442fa69e55bc30f792543dc7ca6093"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows the screen as it was previous to the last <em>setviewtotile</em>.  <a href="#a2b442fa69e55bc30f792543dc7ca6093">More...</a><br/></td></tr>
<tr class="separator:a2b442fa69e55bc30f792543dc7ca6093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6765c423b9f3d4b715c344659a54b8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ae6765c423b9f3d4b715c344659a54b8f">squarerotatetile</a> (short tilenume)</td></tr>
<tr class="memdesc:ae6765c423b9f3d4b715c344659a54b8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotates a tile's image.  <a href="#ae6765c423b9f3d4b715c344659a54b8f">More...</a><br/></td></tr>
<tr class="separator:ae6765c423b9f3d4b715c344659a54b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9021d2083bfd7e88e12c7affdb4151c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9021d2083bfd7e88e12c7affdb4151c3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>preparemirror</b> (long dax, long day, long daz, short daang, long dahoriz, short dawall, short dasector, long *tposx, long *tposy, short *tang)</td></tr>
<tr class="separator:a9021d2083bfd7e88e12c7affdb4151c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73c4ed004be424ec19c923ba8fe1894"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa73c4ed004be424ec19c923ba8fe1894"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>completemirror</b> (void)</td></tr>
<tr class="separator:aa73c4ed004be424ec19c923ba8fe1894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ad15ad722b97d5539bb2f429d53445"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ab1ad15ad722b97d5539bb2f429d53445">clipinsidebox</a> (long x, long y, short wallnum, long walldist)</td></tr>
<tr class="memdesc:ab1ad15ad722b97d5539bb2f429d53445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a clipping box intersects a wall.  <a href="#ab1ad15ad722b97d5539bb2f429d53445">More...</a><br/></td></tr>
<tr class="separator:ab1ad15ad722b97d5539bb2f429d53445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38a2d61789ea7c324b759bd061e0482"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_8h.html#ae38a2d61789ea7c324b759bd061e0482">qloadkvx</a> (long voxindex, char *filename)</td></tr>
<tr class="memdesc:ae38a2d61789ea7c324b759bd061e0482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a voxel.  <a href="#ae38a2d61789ea7c324b759bd061e0482">More...</a><br/></td></tr>
<tr class="separator:ae38a2d61789ea7c324b759bd061e0482"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main engine include file. </p>
<p>A list of all symbols exported from engine.c for a game's use. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa295a774053b2959a67d341478576bd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void alignceilslope </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>dasect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust the slope of a sector's ceiling to pass through a point. </p>
<p>This function will cause the slope of a sector to change and the sector plane to pass through the point specified. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dasect</td><td>The sector to modify. </td></tr>
    <tr><td class="paramname">x</td><td>The X coordinate to intersect. </td></tr>
    <tr><td class="paramname">y</td><td>The Y coordinate to intersect. </td></tr>
    <tr><td class="paramname">z</td><td>The Z coordinate to intersect. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Given a sector and assuming it's first wall is the pivot wall of the slope, this function makes the slope pass through the x,y,z point. </dd></dl>

</div>
</div>
<a class="anchor" id="ab20299088f9e08b4f331c6543ca24556"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void alignflorslope </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>dasect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust the slope of a sector's floor to pass through a point. </p>
<p>This function will cause the slope of a sector to change and the sector plane to pass through the point specified. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dasect</td><td>The sector to modify. </td></tr>
    <tr><td class="paramname">x</td><td>The X coordinate to intersect. </td></tr>
    <tr><td class="paramname">y</td><td>The Y coordinate to intersect. </td></tr>
    <tr><td class="paramname">z</td><td>The Z coordinate to intersect. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Given a sector and assuming it's first wall is the pivot wall of the slope, this function makes the slope pass through the x,y,z point. <br/>
 One use of this function is sine-wave floors. </dd></dl>

</div>
</div>
<a class="anchor" id="a92756086f48e1fbe28d0ec2a8d6197f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int allocatepermanenttile </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>tilenume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xsiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ysiz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a tile permanently. </p>
<p>This function allocates a place on the cache as permanent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tilenume</td><td>The tile number to associate with the memory. </td></tr>
    <tr><td class="paramname">xsiz</td><td>The width to allocate. </td></tr>
    <tr><td class="paramname">ysiz</td><td>The height to allocate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ken's Notes on this function: <br/>
 Right now, I reset the cache every time you call this function so I would recommend calling this function right after loadpics. </dd></dl>

</div>
</div>
<a class="anchor" id="a0e35724dd0c691fe1f0e2e577edad430"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cansee </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>z1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sect1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>z2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sect2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if two points can see each other. </p>
<p>This function will determine whether there is a line of sight between two points. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x1</td><td>X coordinate of point 1. </td></tr>
    <tr><td class="paramname">y1</td><td>Y coordinate of point 1. </td></tr>
    <tr><td class="paramname">z1</td><td>Z coordinate of point 1. </td></tr>
    <tr><td class="paramname">sect1</td><td>Point 1's sector. </td></tr>
    <tr><td class="paramname">x2</td><td>X coordinate of point 2. </td></tr>
    <tr><td class="paramname">y2</td><td>Y coordinate of point 2. </td></tr>
    <tr><td class="paramname">z2</td><td>Z coordinate of point 2. </td></tr>
    <tr><td class="paramname">sect2</td><td>Point 2's sector. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a87308bc0612cd68e2cbdb5621a7e3569"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearallviews </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>dacol</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear all video pages to a given color. </p>
<p>This function clears all the video pages to the color <em>dacol</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dacol</td><td>The color to clear to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af1ded1bcbaa6d93f46fd977042ed4c22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearview </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>dacol</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the current video page to a given color. </p>
<p>This function clears the current video page to the color <em>dacol</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dacol</td><td>The color to clear to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab1ad15ad722b97d5539bb2f429d53445"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int clipinsidebox </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>wallnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>walldist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a clipping box intersects a wall. </p>
<p>This function will test if a box intersects a wall.<br/>
 It returns TRUE if an intersection ocurrs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Center of box X. </td></tr>
    <tr><td class="paramname">y</td><td>Center of box Y. </td></tr>
    <tr><td class="paramname">wallnum</td><td>Wall to test against. </td></tr>
    <tr><td class="paramname">walldist</td><td>Radius of clipping box. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if an intersection ocurred. </dd></dl>

</div>
</div>
<a class="anchor" id="aec5962b8e62df43cdfc074eadafa01e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int clipmove </td>
          <td>(</td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xvect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>yvect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>walldist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ceildist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>flordist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>cliptype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move an object using collision detection. </p>
<p>This function will move any object at any velocity and make sure the object stays a certain distance from walls. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*x</td><td>A pointer to the object's X coordinate. </td></tr>
    <tr><td class="paramname">*y</td><td>A pointer to the object's Y coordinate. </td></tr>
    <tr><td class="paramname">*z</td><td>A pointer to the object's Z coordinate. </td></tr>
    <tr><td class="paramname">*sectnum</td><td>A pointer to the object's current sector. </td></tr>
    <tr><td class="paramname">xvect</td><td>The desired X velocity of movement. </td></tr>
    <tr><td class="paramname">yvect</td><td>The desired Y velocity of movement. </td></tr>
    <tr><td class="paramname">walldist</td><td>The distance the object should stay away from walls. </td></tr>
    <tr><td class="paramname">ceildist</td><td>The distance the object should stay away from the ceiling. </td></tr>
    <tr><td class="paramname">flordist</td><td>The distance the object should stay away from the floor. </td></tr>
    <tr><td class="paramname">cliptype</td><td>See description below. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of clipping: <ul>
<li>0 &ndash; Nothing was touched. </li>
<li>32768+wallnum &ndash; Wall first touched. </li>
<li>49152+wallnum &ndash; Sprite first touched. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Notes on this function: <br/>
 xvect and yvect are calculated with the following equations: <ul>
<li>xvect = velocity * cos(angle) </li>
<li>yvect = velocity * sin(angle) </li>
</ul>
</dd>
<dd>
Ken uses 128 for walldist as his default. <br/>
 Don't suddenly increase walldist &ndash; it may cause an object to go throught the wall! <br/>
 Cliptype is a mask that tells whether the object should be clipped to or not. <br/>
 The lower 16 bits are anded with wall[].cstat and the higher 16 bits are anded with sprite[].cstat. </dd></dl>

</div>
</div>
<a class="anchor" id="aced6c86c44fd00912e754f82721a3a7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copytilepiece </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>tilenume1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>sx1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>sy1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xsiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ysiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>tilenume2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>sx2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>sy2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a piece of a tile to another tile, skipping transparent pixels. </p>
<p>This function will copy a piece of <em>tilenume1</em> into <em>tilenume2</em>, skipping transparent parts. If the source coordinates are larger than the source tile, the texture will automatically wrap around. <br/>
 NOTE: IF THE MODIFIED TILE GETS REMOVED FROM THE CACHE, <em>tilenume2</em> WILL BE RESET TO ITS ORIGINAL FORM. <br/>
 IF YOU NEED TO KEEP THE TILE CREATED BY THIS FUNCTION, CALL <em>allocatepermanenttile</em> ON IT FIRST! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tilenume1</td><td>The source tile </td></tr>
    <tr><td class="paramname">sx1</td><td>X coordinate to start the copy from </td></tr>
    <tr><td class="paramname">sy1</td><td>Y coordinate to start the copy from. </td></tr>
    <tr><td class="paramname">xsiz</td><td>The width to copy from the source. </td></tr>
    <tr><td class="paramname">ysiz</td><td>The height to copy from the source. </td></tr>
    <tr><td class="paramname">tilenume2</td><td>The destination tile. </td></tr>
    <tr><td class="paramname">sx2</td><td>The X coordinate to paste at. </td></tr>
    <tr><td class="paramname">sy2</td><td>The Y coordinate to paste at. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acf6f25f276843ee1a4af20ae6c8f7a4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int deletesprite </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>spritenum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a sprite from the map. </p>
<p>This function will delete a sprite. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spritenum</td><td>The sprite number to delete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a76bfc1e3136fdaa5ee3f96c6929a5576"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dragpoint </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>pointhighlight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>dax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drag a wall to a new point. </p>
<p>This function will reliabaly drag a point to a new location on the map, using a method identical to dragging the point in 2D edit mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pointhighlight</td><td>The wall to drag. </td></tr>
    <tr><td class="paramname">dax</td><td>The X coordinate to drag to. </td></tr>
    <tr><td class="paramname">day</td><td>The Y coordinate to drag to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ken's Notes about this function: Every wall of course has 2 points. When you pass a wall number to this function, you are actually passing 1 point, the left side of the wall (given that you are in the sector of that wall) Got it? </dd></dl>

</div>
</div>
<a class="anchor" id="adbd79bc77eb3974ef554e098538a8b6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw2dgrid </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>posxe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>posye</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>ange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>zoome</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>gride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a 2D grid. </p>
<p>This function is used by Build to draw the grid in 2D. <br/>
 NOTE: This function works only in two graphics modes: <br/>
 640*350*16col, 640*480*16col. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">posxe</td><td>Left side of visible grid. </td></tr>
    <tr><td class="paramname">posye</td><td>Top side of visible grid. </td></tr>
    <tr><td class="paramname">ange</td><td>Not used. </td></tr>
    <tr><td class="paramname">zoome</td><td>Zoom factor of grid. </td></tr>
    <tr><td class="paramname">gride</td><td>The grid's scale. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Please do not use this function. It is only public because the build editor needs it. </dd></dl>

</div>
</div>
<a class="anchor" id="ad169765941743f280a9b4e506ceddb54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw2dscreen </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>posxe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>posye</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>ange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>zoome</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>gride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw the 2D screen. </p>
<p>Thus function is used by build to draw the 2d screen. <br/>
 See draw2dgrid for explanation. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Please do not use this function. It is only public because the build editor needs it. </dd></dl>

</div>
</div>
<a class="anchor" id="ab1b6b9ded6e62834041f48f3ac7e50cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drawline256 </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a line. </p>
<p>This function draws a colored, solid line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x1</td><td>X coordinate of starting point. </td></tr>
    <tr><td class="paramname">y1</td><td>Y coordinate of starting point. </td></tr>
    <tr><td class="paramname">x2</td><td>X coordinate of ending point. </td></tr>
    <tr><td class="paramname">y2</td><td>Y coordinate of ending point. </td></tr>
    <tr><td class="paramname">col</td><td>Color to use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4bc3511367cb61dcc2405c9312bb3b4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drawmapview </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>dax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>zoome</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>ang</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw the overhead textured map view. </p>
<p>This function is used to draw the overhead textured map view. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dax</td><td>The x coordinate to center on the map. </td></tr>
    <tr><td class="paramname">day</td><td>The y coordinate to center on the map. </td></tr>
    <tr><td class="paramname">zoome</td><td>The zoom to apply to the map. </td></tr>
    <tr><td class="paramname">ang</td><td>The angle to rotate the map by. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa62c85ac7edf6b08e9b586f7b55ba3ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drawmasks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw the sprites and maskwalls to the current drawing page. </p>
<p>This function will draw the visible sprites and masked walls to the current drawing page. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Ken's Notes on this function: <br/>
 This function draws all the sprites and masked walls to the current drawing page which is not yet shown. The reason I have the drawing split up into these 2 routines is so you can animate just the sprites that are about to be drawn instead of having to animate all the sprites on the whole board. Drawrooms() prepares these variables: spritex[], spritey[], spritepicnum[], thesprite[], and spritesortcnt. Spritesortcnt is the number of sprites about to be drawn to the page. To change the sprite's picnum, simply modify the spritepicnum array If you want to change other parts of the sprite structure, then you can use the thesprite array to get an index to the actual sprite number. </dd></dl>

</div>
</div>
<a class="anchor" id="a66678bd73cef8c99167f81a014eaaebf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drawrooms </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>daposx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>daposy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>daposz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>daang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>dahoriz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>dacursectnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw the 3D screen to the current drawing page. </p>
<p>This function draws the current 3D screen to the current drawing page. Remember to call <em><a class="el" href="engine_8h.html#a61cc16c822b16491315e8f46a7991958" title="Flip to next drawing page.">nextpage()</a></em> to actually show the page on the screen! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">daposx</td><td>X position of the camera. </td></tr>
    <tr><td class="paramname">daposy</td><td>Y position of the camera. </td></tr>
    <tr><td class="paramname">daposz</td><td>Z position of the camera. </td></tr>
    <tr><td class="paramname">daang</td><td>Viewing angle of the camera. </td></tr>
    <tr><td class="paramname">dahoriz</td><td>??? fixme </td></tr>
    <tr><td class="paramname">dacursectnum</td><td>Sector camera is currently in. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae85f64aadbd4edda5616d23675406b22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int drawtilescreen </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>pictopleft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>picbox</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw the tile screen. </p>
<p>This function draws the tile chooser in Build. (what you get when you press "v".) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pictopleft</td><td>The first tile to show. </td></tr>
    <tr><td class="paramname">picbox</td><td>The tile to highlight. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a07e575f9719e3c30ee3d878ed43f352b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getangle </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xvect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>yvect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the angle of a vector. </p>
<p>This function will return the angle closest to the vector you specify. <br/>
 There are 2048 possible angles, starting from the right (3 o'clock), going clockwise. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xvect</td><td>The x component. </td></tr>
    <tr><td class="paramname">yvect</td><td>The y component. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a882f170f9f4f090955e4d0ecdf3cf588"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getceilzofslope </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>dax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ceiling z value for a point in a sector. </p>
<p>This function returns the Z value of a ceiling at a point in the sector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectnum</td><td>The sector to look in. </td></tr>
    <tr><td class="paramname">dax</td><td>The x coordinate to look in. </td></tr>
    <tr><td class="paramname">day</td><td>The y coordinate to look in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The z coordinate at that point. </dd></dl>

</div>
</div>
<a class="anchor" id="a455e6301e09bae328d82ffc8f077f3b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getflorzofslope </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>dax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the floor z value for a point in a sector. </p>
<p>This function returns the Z value of a floor at a point in the sector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectnum</td><td>The sector to look in. </td></tr>
    <tr><td class="paramname">dax</td><td>The x coordinate to look in. </td></tr>
    <tr><td class="paramname">day</td><td>The y coordinate to look in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The z coordinate. </dd></dl>

</div>
</div>
<a class="anchor" id="abb8ee8f622b3ab411f131c372271e17e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getmousevalues </td>
          <td>(</td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>mousx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>mousy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>bstatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current mouse location and button state. </p>
<p>This function will store the current mouse position and the state of the mouse buttons in the pointers you give it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mousx</td><td>A pointer to write the X position of the mouse to. </td></tr>
    <tr><td class="paramname">mousy</td><td>A pointer to write the Y position of the mouse to. </td></tr>
    <tr><td class="paramname">bstatus</td><td>A pointer to write the current state of the mouse buttons to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd><em>bstatus</em> is a bitmask of the mouse states: <ul>
<li>1 &ndash; Left button is down. </li>
<li>2 &ndash; Right button is down. </li>
<li>4 &ndash; Middle button is down. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a668be37c5f3c1171824e407201271d5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char getpixel </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the color of a pixel on screen. </p>
<p>This function will find the color of a pixel in any graphics mode. <br/>
 NOTE: This function is not designed to be fast! &ndash; Use it in moderation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The x cordinate of the pixel. </td></tr>
    <tr><td class="paramname">y</td><td>The y coordinate of the pixel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The color of the pixel. </dd></dl>

</div>
</div>
<a class="anchor" id="a32c92aa1ef6efa66fc40722d864caf2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getzrange </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>ceilz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>ceilhit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>florz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>florhit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>walldist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>cliptype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the highest and lowest z coordinates your clipping box can get to. </p>
<p>This function finds the highest and lowest z coordinates your clipping box can get to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>X coordinate of location. </td></tr>
    <tr><td class="paramname">y</td><td>Y coordinate of location. </td></tr>
    <tr><td class="paramname">z</td><td>Z coordinate of location. </td></tr>
    <tr><td class="paramname">sectnum</td><td>Current sector. </td></tr>
    <tr><td class="paramname">*ceilz</td><td>Pointer to store Z extent of ceiling. </td></tr>
    <tr><td class="paramname">*florz</td><td>Pointer to store Z extent of floor. </td></tr>
    <tr><td class="paramname">*ceilhit</td><td>First object hit in the up direction. </td></tr>
    <tr><td class="paramname">*florhit</td><td>First object hit in the down direction. </td></tr>
    <tr><td class="paramname">walldist</td><td>Size of your clipping box. </td></tr>
    <tr><td class="paramname">cliptype</td><td>See description below. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Notes on this function: <br/>
 <em>walldist</em> is suggested to be 128. <br/>
 <em>ceilhit</em> and <em>florhit</em> will be the following after the function call: <br/>
 16384+sector (sector first touched) or <br/>
 49152+spritenum (sprite first touched) </dd></dl>

</div>
</div>
<a class="anchor" id="a712cb52e48cb161defe931ca873c2a9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getzsofslope </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>dax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>ceilz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>florz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the floor and ceiling z values for a point. </p>
<p>This function finds the Z value of a floor and ceiling, and stores the values in two pointers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectnum</td><td>The sector to look in. </td></tr>
    <tr><td class="paramname">dax</td><td>The x coordinate to look in. </td></tr>
    <tr><td class="paramname">day</td><td>The y coordinate to look in. </td></tr>
    <tr><td class="paramname">*ceilz</td><td>A pointer to write the ceiling z value to. </td></tr>
    <tr><td class="paramname">*florz</td><td>A pointer to write the floor z value to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abbddec0c52f6ce32730c69ce01723641"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hitscan </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>zs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>vx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>vy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>vz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>hitsect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>hitwall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>hitsprite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>hitx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>hity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>hitz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>cliptype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Project a ray and report what it hit. </p>
<p>This function will project a ray in the direction specified by a 3D vector and report where and what the ray hit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xs</td><td>Starting X position. </td></tr>
    <tr><td class="paramname">ys</td><td>Starting Y position. </td></tr>
    <tr><td class="paramname">zs</td><td>Starting Z position. </td></tr>
    <tr><td class="paramname">sectnum</td><td>Starting sector. </td></tr>
    <tr><td class="paramname">vx</td><td>X component of 3D vector. </td></tr>
    <tr><td class="paramname">vy</td><td>Y component of 3D vector. </td></tr>
    <tr><td class="paramname">vz</td><td>Z component of 3D vector. </td></tr>
    <tr><td class="paramname">*hitsect</td><td>The sector that the intersection occured in. </td></tr>
    <tr><td class="paramname">*hitwall</td><td>The wall that got hit. </td></tr>
    <tr><td class="paramname">*hitsprite</td><td>The sprite that got hit. </td></tr>
    <tr><td class="paramname">*hitx</td><td>The X coordinate of the point that the intersection occured. </td></tr>
    <tr><td class="paramname">*hity</td><td>The Y coordinate of the point that the intersection occured. </td></tr>
    <tr><td class="paramname">*hitz</td><td>The Z coordinate of the point that the intersection occured. </td></tr>
    <tr><td class="paramname">cliptype</td><td>See description below. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Notes on this function: <br/>
 HOW TO DETERMINE WHAT WAS HIT:<br/>
 If the ray hits a sprite, then <ul>
<li>hitsprite = thespritenumber. </li>
<li>hitwall = -1. </li>
</ul>
</dd>
<dd>
If the ray hits a wall, then <ul>
<li>hitsprite = -1 </li>
<li>hitwall = thewallnumber </li>
</ul>
</dd>
<dd>
If the ray hits the ceiling of a sector, then <ul>
<li>hitsprite = -1 </li>
<li>hitwall = -1 </li>
<li>vectorz &lt; 0 </li>
<li>(If vectorz &lt; 0 then you're shooting upward which means that you couldn't have hit a floor) </li>
</ul>
</dd>
<dd>
If the ray hits the floor of a sector, then <ul>
<li>hitsprite = -1 </li>
<li>hitwall = -1 </li>
<li>vectorz &gt; 0 </li>
<li>(If vectorz &gt; 0 then you're shooting downard which means that you couldn't have hit a ceiling) </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ad954c198a08c9098326b4fc8aa07c305"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initengine </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the Build Engine. </p>
<p>This function initializes many variables for the Build Engine. You should call this function before using any other Build functions. </p>

</div>
</div>
<a class="anchor" id="a774492fd0fa1b8d8dd1e0fa6c897c561"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initspritelists </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the sprite lists. </p>
<p>This function will initialize the doubly-linked sprite sector and sprite status lists. </p>

</div>
</div>
<a class="anchor" id="aeb692da127c5b7b796a5f7429ea5c531"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int insertsprite </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>statnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a sprite into a sector. </p>
<p>This function is used to insert a sprite into a sector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectnum</td><td>The sector number to place the sprite into. </td></tr>
    <tr><td class="paramname">statnum</td><td>The sprite's status. (cstat) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number assigned to the new sprite. </dd></dl>

</div>
</div>
<a class="anchor" id="af77e86dcba399c45472c7f7dbd786ebf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inside </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sectnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tests to see if a 2d point is in a sector. </p>
<p>This function will check if a 2d point is inside a sector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>X coordinate of point. </td></tr>
    <tr><td class="paramname">y</td><td>Y coordinate of point. </td></tr>
    <tr><td class="paramname">sectnum</td><td>The sector to test against. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3658a285bd76153c2663cb71bcc1bd47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int krand </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a random number. </p>
<p>This function returns a pseudorandom number in the range 0-65535. </p>
<dl class="section return"><dt>Returns</dt><dd>A random number. </dd></dl>

</div>
</div>
<a class="anchor" id="a743df2040a63c440c0a5ca7723af132d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ksqrt </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Integer Square Root Function. </p>
<p>This function will return an integer approximating the square root of a number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>The number to work on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The square root of <em>num</em>. </dd></dl>

</div>
</div>
<a class="anchor" id="a627b4fca81293cb2ef80402b47269413"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lastwall </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the wall to the left of another wall. </p>
<p>Use this function as a reverse function of wall[].point2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">point</td><td>The wall to search with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The wall to the left of <em>point</em>. </dd></dl>

</div>
</div>
<a class="anchor" id="a67fd5aae595f6703b5b1b96f59192f8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int loadboard </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>daposx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>daposy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>daposz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>daang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>dacursectnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a map from disk. </p>
<p>This function loads a map from disk and stores the starting location in the pointers you pass. If no extention is given to <em>filename</em>, .MAP is assumed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The filename to load. </td></tr>
    <tr><td class="paramname">*daposx</td><td>A pointer for the starting X coordinate. </td></tr>
    <tr><td class="paramname">*daposy</td><td>A pointer for the starting Y coordinate. </td></tr>
    <tr><td class="paramname">*daposz</td><td>A pointer for the starting Z coordinate. </td></tr>
    <tr><td class="paramname">*daang</td><td>A pointer for the starting angle. </td></tr>
    <tr><td class="paramname">*dacursectnum</td><td>A pointer for the starting sector. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if the map is not found. </dd></dl>

</div>
</div>
<a class="anchor" id="acad7789d797049e17ec0eb1f54a1e41b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int loadpics </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads an artwork file into the engine. </p>
<p>This function is used to load an artwork file into memory so the engine knows where to find the tiles referenced by the artwork file. If no extention is given to <em>filename</em>, .ART is assumed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*filename</td><td>The name of the artwork file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if the file was not found. </dd></dl>

</div>
</div>
<a class="anchor" id="a49a03deb098822ec5542b9fd4b9906c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loadtile </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>tilenume</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a tile into memory. </p>
<p>This function will ensure <em>tilenume</em> is in memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tilenume</td><td>The tile to load. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ken's Notes on this function: <br/>
 A tile is not in the cache if (waloff[tilenum] == 0) </dd></dl>

</div>
</div>
<a class="anchor" id="aef4591b0bc830ea3434eab130381a8f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int loopnumofsector </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>wallnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find number of walls in sector, up to a known wall. </p>
<p>This function will find the number of walls in a sector, up to the specified wall. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectnum</td><td>The sector to work on. </td></tr>
    <tr><td class="paramname">wallnum</td><td>The wall to stop on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of walls in <em>sectnum</em> before <em>wallnum</em>, or -1 if <em>wallnum</em> does not occur in <em>sectnum</em>. </dd></dl>

</div>
</div>
<a class="anchor" id="a65e3e862cf45cf556bc982d0af4fcf1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void makepalookup </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>palnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>remapbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">signed char&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">signed char&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">signed char&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>dastat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make a lookup table for remapping. </p>
<p>Ken's description of this function: This function allows different shirt colors for sprites. First prepare <em>remapbuf</em>, which is a 256 byte buffer of chars with the colors to remap. <br/>
 Palnum can be anywhere from 1-15. <br/>
 Since 0 is where the normal palette is stored, it is a bad idea to call this function with palnum=0. <br/>
 In <a class="el" href="build_8h_source.html">BUILD.H</a> notice I added a new variable, spritepal[MAXSPRITES]. <br/>
 Usually the value of this is 0 for the default palette. <br/>
 But if you change it to the palnum in the code between <a class="el" href="engine_8h.html#a66678bd73cef8c99167f81a014eaaebf" title="Draw the 3D screen to the current drawing page.">drawrooms()</a> and drawmasks then the sprite will be drawn with that remapped palette. <br/>
 The last 3 parameters are the color that the palette fades to as you get further away. <br/>
 This color is normally black (0,0,0). <br/>
 White would be (63,63,63). <br/>
 if ((dastat&amp;1) == 0) then makepalookup will allocate &amp; deallocate the memory block for use but will not waste the time creating a palookup table (it assumes you will create one yourself). </p>

</div>
</div>
<a class="anchor" id="a34288018de286e9930104effe5e02d2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int neartag </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>zs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>ange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>neartagsector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>neartagwall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>neartagsprite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>neartaghitdist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>neartagrange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>tagsearch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the closest objects with tags the player is pointing at. </p>
<p>This function will get the nearest tagged objects. It is useful for door and switch activation code, among other things. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xs</td><td>X coordinate to search from. </td></tr>
    <tr><td class="paramname">ys</td><td>Y coordinate to search from. </td></tr>
    <tr><td class="paramname">zs</td><td>Z coordinate to search from. </td></tr>
    <tr><td class="paramname">sectnum</td><td>Sector number to search from. </td></tr>
    <tr><td class="paramname">ange</td><td>Angle to search from. </td></tr>
    <tr><td class="paramname">*neartagsector</td><td>The nearest tagged sector. </td></tr>
    <tr><td class="paramname">*neartagwall</td><td>The nearest tagged wall. </td></tr>
    <tr><td class="paramname">*neartagsprite</td><td>The nearest tagged sprite. </td></tr>
    <tr><td class="paramname">*neartaghitdist</td><td>Distance to the found object. </td></tr>
    <tr><td class="paramname">neartagrange</td><td>Maximum distance to search. </td></tr>
    <tr><td class="paramname">tagsearch</td><td>What to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Notes on this function: <br/>
 For <em>tagsearch:</em> <ul>
<li>1 = search lotag only. </li>
<li>2 = search hitag only. </li>
<li>3 = search both lotag and hitag. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a61cc16c822b16491315e8f46a7991958"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nextpage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flip to next drawing page. </p>
<p>This function flips to the next drawing page. After a page is prepared, use this function to show the it on the screen and set up the next one for drawing. </p>

</div>
</div>
<a class="anchor" id="a7e0a9186f78f84cd592907978b2ea79c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nextsectorneighborz </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>thez</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>topbottom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the next closest ceiling or floor in surrounding sectors. </p>
<p>This function will find the next closest ceiling or floor in the sectors surrounding the given sector. It is useful for calculating where elevators should stop. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectnum</td><td>The sector to test with </td></tr>
    <tr><td class="paramname">thez</td><td>The z coordinate to start the search from. </td></tr>
    <tr><td class="paramname">topbottom</td><td>Search ceilings/floors only. </td></tr>
    <tr><td class="paramname">direction</td><td>Search up/down. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Notes: <br/>
 <em>topbottom:</em> pass -1 to search ceilings, 1 to search floors. <br/>
 <em>direction:</em> pass -1 to search upwards, 1 to search downwards. </dd></dl>

</div>
</div>
<a class="anchor" id="a2e5e1daf06029bc7eab6de9a8859aa36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plotpixel </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plots a pixel to the screen. </p>
<p>This function can plot a pixel to the screen in any graphics mode. <br/>
 NOTE: This function is not designed to be fast! Use it in moderation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The x coordinate of the pixel. </td></tr>
    <tr><td class="paramname">y</td><td>The y coordinate of the pixel. </td></tr>
    <tr><td class="paramname">col</td><td>The color of the pixel. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afe992ccc867011bddf65db06d3d6a1b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printext256 </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ypos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>backcol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>name</em>[82], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>fontsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws a text message to the screen. </p>
<p>This function will draw a message to the screen using one of the built in fonts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xpos</td><td>X position of text. </td></tr>
    <tr><td class="paramname">ypos</td><td>Y position of text. </td></tr>
    <tr><td class="paramname">col</td><td>Color of text. </td></tr>
    <tr><td class="paramname">backcol</td><td>Background color of text, or -1 for transparency. </td></tr>
    <tr><td class="paramname">name</td><td>The text to draw. </td></tr>
    <tr><td class="paramname">fontsize</td><td>The font size. Legal values: 0 &ndash; 8x8 font. 1 &ndash; 4x6 font. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae865af00b25ea38c5b5dd78ebe9d5a8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printext256_noupdate </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ypos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>backcol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>name</em>[82], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>fontsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws a text message to the screen without refreshing. </p>
<p>This function will draw a message to the screen using one of the built in fonts. It will also avoid refreshing the screen. See Ryan's notes below. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xpos</td><td>X position of text. </td></tr>
    <tr><td class="paramname">ypos</td><td>Y position of text. </td></tr>
    <tr><td class="paramname">col</td><td>Color of text. </td></tr>
    <tr><td class="paramname">backcol</td><td>Background color of text, or -1 for transparency. </td></tr>
    <tr><td class="paramname">name</td><td>The text to draw. </td></tr>
    <tr><td class="paramname">fontsize</td><td>The font size. Legal values: 0 &ndash; 8x8 font. 1 &ndash; 4x6 font. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ryan's notes on this function: <br/>
 This is ryan's change. SDL requires me to call SDL_UpdateRect() to force vid updates without a SDL_Flip() call, but there's no such thing in the DOS version of this program, so text won't show up sometimes without my update call in Linux. <br/>
 However, to get a nice shadow effect on some text, Ken draws a string at an offset and darker, and then on top of it draws the actual string. <br/>
 Two SDL_UpdateRect() calls in over top of each other cause flicker, so I have this function here so the shadow can be drawn with _noupdate, and the actual string is draw with an update. </dd></dl>

</div>
</div>
<a class="anchor" id="a329de23de31be916421ef26da38cdb68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pushmove </td>
          <td>(</td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>walldist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ceildist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>flordist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>cliptype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to keep object away from wall. </p>
<p>This function checks if an object is too close to a wall. If it is, it attempts to push it away. If it tries to push 256 times, and the object is still too close, it returns -1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*x</td><td>Object's X coordinate. </td></tr>
    <tr><td class="paramname">*y</td><td>Object's Y coordinate. </td></tr>
    <tr><td class="paramname">*z</td><td>Object's Z coordinate. </td></tr>
    <tr><td class="paramname">*sectnum</td><td>Object's sector. </td></tr>
    <tr><td class="paramname">walldist</td><td>Distance to avoid walls by. </td></tr>
    <tr><td class="paramname">ceildist</td><td>Distance to avoid ceilings by. </td></tr>
    <tr><td class="paramname">flordist</td><td>Distane to avoid floors by. </td></tr>
    <tr><td class="paramname">cliptype</td><td>See below. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Notes on this function: <br/>
 Cliptype is a mask that tells whether the object should be clipped to or not. The lower 16 bits are anded with wall[].cstat and the higher 16 bits are anded with sprite[].cstat. </dd></dl>

</div>
</div>
<a class="anchor" id="ae38a2d61789ea7c324b759bd061e0482"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qloadkvx </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>voxindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a voxel. </p>
<p>This function will load a voxel that can be used to replace a sprite. <br/>
 See notes below. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voxindex</td><td>The voxel number to use. </td></tr>
    <tr><td class="paramname">*filename</td><td>The voxel file to load. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ken's Notes on Using Voxels: <br/>
 To actually display the voxel, you need to set the (sprite[?].cstat&amp;48) to equal 48 like this: <br/>
 sprite[?].cstat |= 48; <br/>
 I have no special collision code for voxels. They are simply treated as face sprites. <br/>
 <br/>
 You should set the sprite[?].picnum to equal the VOXEL index of the voxel that you passed to qloadkvx. If you don't do this you will see nothing. To handle this index remapping it is a good idea to make some array like this: <br/>
 short picnumtovox[MAXTILES]; <br/>
 and save the array in some file (or in the .GRP file) <br/>
 Many other fields of the sprite structure also affect voxels, such as: ang, shade, pal, xrepeat, yrepeat. <br/>
 <br/>
 Note: To view voxels in the Build editor, you will need to do the same qloadkvx calls in your BSTUB.C. <br/>
 And now a warning: Voxels tend to draw the fastest when they are tall and thin. <br/>
 For example, a telephone pole would work just great. <br/>
 They slow down very quickly as you add detail. <br/>
 This is why you don't see any large voxels in SW and Blood. </dd></dl>

</div>
</div>
<a class="anchor" id="a2509ece09b386579638af0b235fc469f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rotatepoint </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xpivot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ypivot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>daang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>y2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotate / translate a point. </p>
<p>This function is a very convenient and fast math helper function. Rotate points easily with this function without having to juggle your cosines and sines. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xpivot</td><td>X coordinate of point to pivot about. </td></tr>
    <tr><td class="paramname">ypivot</td><td>Y coordinate of point to pivot about. </td></tr>
    <tr><td class="paramname">x</td><td>X coordinate of point to translate. </td></tr>
    <tr><td class="paramname">y</td><td>Y coordinate of point to translate. </td></tr>
    <tr><td class="paramname">daang</td><td>Angle to rotate (CW, relative) </td></tr>
    <tr><td class="paramname">*x2</td><td>X coordinate of the translated point. </td></tr>
    <tr><td class="paramname">*y2</td><td>Y coordinate of the translated point. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa5b391d361340cd11c504aa20f7338b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rotatesprite </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>sx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>sy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>picnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">signed char&#160;</td>
          <td class="paramname"><em>dashade</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>dapalnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>dastat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>cx1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>cy1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>cx2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>cy2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotate and draw a sprite on the screen. </p>
<p>This function will rotate and draw a sprite onto the screen. See notes for proper usage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sx</td><td>X center of sprite to draw. </td></tr>
    <tr><td class="paramname">sy</td><td>Y center of sprite to draw. </td></tr>
    <tr><td class="paramname">z</td><td>Zoom to draw with. </td></tr>
    <tr><td class="paramname">a</td><td>Angle to draw at. </td></tr>
    <tr><td class="paramname">picnum</td><td>The tile to draw. </td></tr>
    <tr><td class="paramname">dashade</td><td>The shade to draw with. </td></tr>
    <tr><td class="paramname">dapalnum</td><td>The palette to draw with. </td></tr>
    <tr><td class="paramname">dastat</td><td>Drawing options. </td></tr>
    <tr><td class="paramname">cx1</td><td>Upper left of screen clipping box X. </td></tr>
    <tr><td class="paramname">cy1</td><td>Upper left of screen clipping box Y. </td></tr>
    <tr><td class="paramname">cx2</td><td>Lower right of screen clipping box X. </td></tr>
    <tr><td class="paramname">cy2</td><td>Lower right of screen clipping box Y. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ken's Notes on this function. <ul>
<li>(sx, sy) is the center of the sprite to draw defined as screen coordinates shifted up by 16. </li>
<li>(z) is the zoom. Normal zoom is 65536. Ex: 131072 is zoomed in 2X and 32768 is zoomed out 2X. </li>
<li>(a) is the angle (0 is straight up) </li>
<li>(picnum) is the tile number </li>
<li>(dashade) is 0 normally but can be any standard shade up to 31 or 63. </li>
<li>(dapalnum) can be from 0-255. </li>
<li>if ((dastat&amp;1) == 0) - no transluscence </li>
<li>if ((dastat&amp;1) != 0) - transluscence </li>
<li>if ((dastat&amp;2) == 0) - don't scale to setview's viewing window </li>
<li>if ((dastat&amp;2) != 0) - scale to setview's viewing window (windowx1,etc.) </li>
<li>if ((dastat&amp;4) == 0) - nuttin' special </li>
<li>if ((dastat&amp;4) != 0) - y-flip image </li>
<li>if ((dastat&amp;8) == 0) - clip to startumost/startdmost </li>
<li>if ((dastat&amp;8) != 0) - don't clip to startumost/startdmost </li>
<li>if ((dastat&amp;16) == 0) - use Editart center as point passed </li>
<li>if ((dastat&amp;16) != 0) - force point passed to be top-left corner </li>
<li>if ((dastat&amp;32) == 0) - nuttin' special </li>
<li>if ((dastat&amp;32) != 0) - use reverse transluscence </li>
<li>if ((dastat&amp;64) == 0) - masked drawing (check 255's) (slower) </li>
<li>if ((dastat&amp;64) != 0) - draw everything (don't check 255's) (faster) </li>
<li>if ((dastat&amp;128) == 0) - nuttin' special </li>
<li>if ((dastat&amp;128) != 0) - automatically draw to all video pages </li>
</ul>
</dd>
<dd>
Note: As a special case, if both ((dastat&amp;2) != 0) and ((dastat&amp;8) != 0) then rotatesprite will scale to the full screen (0,0,xdim-1,ydim-1) rather than setview's viewing window. (windowx1,windowy1,etc.) This case is useful for status bars, etc.<br/>
 <br/>
 Ex: rotatesprite(160L&lt;&lt;16,100L&lt;&lt;16,65536,totalclock&lt;&lt;4, DEMOSIGN,2,50L,50L,270L,150L); This example will draw the DEMOSIGN tile in the center of the screen and rotate about once per second. The sprite will only get drawn inside the rectangle from (50,50) to (270,150). </dd></dl>

</div>
</div>
<a class="anchor" id="a299155d6e6b08616c20af110839d042b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int saveboard </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>daposx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>daposy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>daposz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>daang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>dacursectnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves a map to disk. </p>
<p>This function dumps the working map to disk, using the pointers you pass as the starting location. If no extention is given to <em>filename</em>, .MAP is assumed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The filename to save. </td></tr>
    <tr><td class="paramname">*daposx</td><td>A pointer containing the starting X coordinate. </td></tr>
    <tr><td class="paramname">*daposy</td><td>A pointer containing the starting Y coordinate. </td></tr>
    <tr><td class="paramname">*daposz</td><td>A pointer containing the starting Z coordinate. </td></tr>
    <tr><td class="paramname">*daang</td><td>A pointer containing the starting angle. </td></tr>
    <tr><td class="paramname">*dacursectnum</td><td>A pointer containing the starting sector. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2081a75c3d83fa1afd3a9d4f5a34dd7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int screencapture </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>inverseit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take a screenshot. </p>
<p>This function will dump a picture of the current screen to a file. <br/>
 Set <em>inverseit</em> to 1 if you want the colors inverted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*filename</td><td>The filename to write to. </td></tr>
    <tr><td class="paramname">inverseit</td><td>Set to 1 if you want the colors inverted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Notes on <em>filename:</em> <br/>
 If you use "captxxxx.pcx" as your filename, Build will automatically replace the x's with an automatically incrementing number, starting from 0000. </dd></dl>

</div>
</div>
<a class="anchor" id="a8e7c1c9eadcd99712a5de5a5d2e99ef9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sectorofwall </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>theline</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A fast routine to find the sector that owns a certain wall. </p>
<p>This function will find the sector that owns the wall <em>theline</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theline</td><td>The wall to lookup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The sector the wall belongs to. </dd></dl>

</div>
</div>
<a class="anchor" id="a4cb76c0d265f3cff77957d57c5a17a52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setaspect </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>daxrange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>daaspect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set aspect ratio and viewing range angle. </p>
<p>This function sets the aspect ratio and viewing range angle of the engine. Used for weird video modes or special effects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">daxrange</td><td>Sets the viewing range angle. </td></tr>
    <tr><td class="paramname">daaspect</td><td>Sets the aspect ratio. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ken's Notes on this function: <br/>
------------------&mdash;<br/>
 For a standard 90 320*200 screen, daxrange and daaspect are<ol type="1">
<li>For square aspect ratio at 320*400, set daaspect to 131072. Since daxrange is actually zoom, you must modify the aspect ratio inversely if you only want to change the viewing angle. <br/>
------------------&mdash;<br/>
 [for daaspect] you pass the Y/X aspect ratio scaled up 16 bits, so 65536 would be normal. You don't need to call this if you don't want to. By default, in setview, I call setaspect with these parameters: setaspect(divscale16(ydim*320,xdim*200)); (also written as:) setaspect(((ydim*320)&lt;&lt;16)/(xdim*200)); Note that in 320*200 mode the value passed would be 65536 which is a 1:1 aspect ratio. <br/>
------------------&mdash;<br/>
 Since drawmapview is also affect by the aspect ratio, you will need to make sure drawoverheadmap is affected so the map modes match up. Please look at and copy my updated drawoverheadmap function into your GAME.C if you use it. </li>
</ol>
</dd></dl>

</div>
</div>
<a class="anchor" id="a28100b24cf0eb1b9de2169b20c7b9910"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setbrightness </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>dabrightness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>dapal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust the gamma of a VGA palette. </p>
<p>This function will adjust the brightness of colors in <em>dapal</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dabrightness</td><td>The gamma level. Accepted range of 0-15, where 0 is the darkest and 15 is the lightest. </td></tr>
    <tr><td class="paramname">*dapal</td><td>A pointer to a standard 768 byte VGA palette. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab688876e5e9d16bdc1a481d3926e2bdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setfirstwall </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sectnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>newfirstwall</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the first wall of a sector. </p>
<p>This function sets the first wall of a sector. It can be used to change the hinge wall of a slope, among other things. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectnum</td><td>The sector to modify. </td></tr>
    <tr><td class="paramname">newfirstwall</td><td>The wall to set as the first wall. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6eb2ccb6e1e062c239a47b6d8721bc7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int setgamemode </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>davidoption</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>daxdim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>daydim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the video mode. </p>
<p>This function sets the video mode. If you change the mode in your program, you must call this again to reset the mode before using the build drawing functions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">davidoption</td><td>The video modeset to use (0-6). Allowed options: <ul>
<li><code>0</code> &ndash; </li>
<li><code>1</code> &ndash; VESA mode. Any VESA resolution is allowed. </li>
<li><code>2</code> &ndash; </li>
<li><code>3</code> &ndash; </li>
<li><code>4</code> &ndash; </li>
<li><code>5</code> &ndash; </li>
<li><code>6</code> &ndash; </li>
</ul>
</td></tr>
    <tr><td class="paramname">daxdim</td><td>The x resolution. (must be 320 if param 1 != 1.) </td></tr>
    <tr><td class="paramname">daydim</td><td>The y resolution. (must be 200 if param 1 != 1.) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab7654c62de8d43f45b037f11ffeb81ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int setsprite </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>spritenum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>newx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>newy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>newz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts a sprite somewhere, without checking for validity. </p>
<p>This function will move a sprite to anywhere on the map, regardless of whether the new place is valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spritenum</td><td>The sprite to move. </td></tr>
    <tr><td class="paramname">newx</td><td>The X coordinate to move to. </td></tr>
    <tr><td class="paramname">newy</td><td>The Y coordinate to move to. </td></tr>
    <tr><td class="paramname">newz</td><td>The Z coordinate to move to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab41dd0063820e1bd32d102f33bf67a21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setview </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the viewing window for 3D mode. </p>
<p>This function will cause the engine to draw the 3D view in a specified portion of the screen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x1</td><td>upper left X coordinate. </td></tr>
    <tr><td class="paramname">y1</td><td>upper left Y coordinate. </td></tr>
    <tr><td class="paramname">x2</td><td>lower right X coordinate. </td></tr>
    <tr><td class="paramname">y2</td><td>lower right Y coordinate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Example: For full screen 320*200, call like this: setview(0L,0L,319L,199L); </dd></dl>

</div>
</div>
<a class="anchor" id="a2b442fa69e55bc30f792543dc7ca6093"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setviewback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shows the screen as it was previous to the last <em>setviewtotile</em>. </p>
<p>This function will show the screen as it was before the last call to <em>setviewtotile</em>. </p>

</div>
</div>
<a class="anchor" id="a08d01feafe12785e792c22826a7215c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setviewtotile </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>tilenume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xsiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ysiz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shows a tile on screen, saving the previous view. </p>
<p>This function will show a tile on screen, saving the previous view. You can call this multiple times, and calling <em>setviewback</em> will go to the last view. If you keep calling <em>setback</em>, you will eventually get back to your original screen. All drawing starts in the top left corner. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tilenume</td><td>Tile to show. </td></tr>
    <tr><td class="paramname">xsiz</td><td>X size to draw. </td></tr>
    <tr><td class="paramname">ysiz</td><td>Y size to draw. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae6765c423b9f3d4b715c344659a54b8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squarerotatetile </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>tilenume</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotates a tile's image. </p>
<p>This function will rotate the graphic of a tile. It only works with square tiles. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tilenume</td><td>The tile to perform the rotation on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab4ae077d3245d2e5bd10c25361313ab6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uninitengine </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uninitialize the Build Engine. </p>
<p>This function frees the buffers used by the build engine. You should call this function once before you end your program. </p>

</div>
</div>
<a class="anchor" id="ab4b80da4ff06d9f10b6cb9df33f585de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updatesector </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>sectnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a sector pointer, given x and y values. </p>
<p>This function updates a pointer with the sector number occupied by an x and y value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The x coordinate to look up. </td></tr>
    <tr><td class="paramname">y</td><td>The y coordinate to look up. </td></tr>
    <tr><td class="paramname">*sectnum</td><td>A pointer to the variable you want to write the result into. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ken's Notes on this function: <br/>
 Be careful when you use this function with sprites because remember that the sprite's sector number should not be modified directly. If you want to update a sprite's sector, I recommend using the setsprite function. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 21 2013 22:36:57 for The Build Engine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
